{"ast":null,"code":"var _jsxFileName = \"/Users/erase/Documents/Brain Station 2019 Summer/Project/luyao-zhou-brainflix/sprint2/src/components/Main/Main.js\";\nimport React from \"react\";\nimport Header from \"../Header/Header\"; // import { mainVideo, sideVideo } from \"../../data/data\";\n\nimport MainVideo from \"../MainVideo/MainVideo\";\nimport MainVideoDes from \"../MainVideoDes/MainVideoDes\";\nimport Side from \"../SideVideo/Side\";\nimport \"./Main.scss\";\nimport Axios from 'axios'; // this Main is like a parent component which sends data to its\n// child components: MainVideo, MainVideoDes(CommentCard), Side\n\nclass Main extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mainVideo: {},\n      sideVideo: []\n    };\n  }\n\n  getVideos() {\n    console.log('this 2 happens ');\n    Axios.get('https://project-2-api.herokuapp.com/videos?api_key=luyao').then(response => {\n      console.log(response.data);\n      this.setState({\n        sideVideo: response.data\n      });\n      this.getVideoDetails(\"1af0jruup5gu\");\n    }).catch(error => console.log('error'));\n  }\n\n  getVideoDetails(idOfVideo) {\n    console.log('this 3 happens ');\n    const url = \"https://project-2-api.herokuapp.com/videos/\".concat(idOfVideo, \"?api_key=luyao\");\n    Axios.get(url).then(res => {\n      // update state of parent component,remember to put curly braces:\n      this.setState({\n        mainVideo: res.data\n      });\n    }).catch(error => console.log('error'));\n  }\n\n  componentDidMount() {\n    console.log('this 1 happens first');\n    this.getVideos();\n  }\n\n  componentDidUpdate() {\n    console.log('component is updating');\n\n    if (this.state.mainVideo.id !== this.props.match.params.id) {\n      Axios.get(\"https://project-2-api.herokuapp.com/videos/\".concat(this.props.match.params.id, \"?api_key=luyao\")).then(res => {\n        console.log(this.props.match.params);\n        console.log('this 4 happens '); // update state of parent component,remember to put curly braces:\n\n        this.setState({\n          mainVideo: res.data\n        });\n      }).catch(error => console.log('error'));\n    }\n  }\n\n  render() {\n    // when render for the first time,  this returns an empty obj(with an empty comments array); empty sideVideo array\n    // console.log(this.state.mainVideo);\n    // console.log(this.state.sideVideo);\n    return React.createElement(React.Fragment, null, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(MainVideo, {\n      mainVideo: this.state.mainVideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mainVideo-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(MainVideoDes, {\n      mainVideoDes: this.state.mainVideo,\n      whenSubmitted: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"sideVideoList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"sideVideoList__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Next Video\"), this.state.sideVideo.filter(item => item.id != this.state.mainVideo.id).map(item => React.createElement(Side, {\n      key: item.id,\n      data: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/erase/Documents/Brain Station 2019 Summer/Project/luyao-zhou-brainflix/sprint2/src/components/Main/Main.js"],"names":["React","Header","MainVideo","MainVideoDes","Side","Axios","Main","Component","state","mainVideo","sideVideo","getVideos","console","log","get","then","response","data","setState","getVideoDetails","catch","error","idOfVideo","url","res","componentDidMount","componentDidUpdate","id","props","match","params","render","handleSubmit","filter","item","map"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from \"../Header/Header\";\n// import { mainVideo, sideVideo } from \"../../data/data\";\nimport MainVideo from \"../MainVideo/MainVideo\";\nimport MainVideoDes from \"../MainVideoDes/MainVideoDes\";\nimport Side from \"../SideVideo/Side\";\nimport \"./Main.scss\";\n\nimport Axios from 'axios';\n\n\n\n// this Main is like a parent component which sends data to its\n// child components: MainVideo, MainVideoDes(CommentCard), Side\n\n\nclass Main extends React.Component {\n  \n// *********** Diving Deeper:  declare a func to handle submit event:\n// handleSubmit = (event) => {\n//      event.preventDefault();\n//      const value = event.target.input.value;\n\n//      this.state.mainVideo.comments.push(\n//       {\n//                 name: \"New User\",\n//                 comment: value,\n//                 id: \"6de7cf31-c9eb-411f-ab19-06e1ede4a4d6\",\n//                 timestamp: '12/18/2018'\n//             }\n//     );\n//     this.setState(mainVideo);\n//     console.log(mainVideo)\n// }\n     \n// NOTE: need to also include an empty array\nstate = {\n  mainVideo: { },\n  sideVideo: []\n}\n\n\ngetVideos() {\n  console.log('this 2 happens ');\n  Axios.get('https://project-2-api.herokuapp.com/videos?api_key=luyao')\n       .then (response => {\n      \n          console.log(response.data);\n\n          this.setState({\n            sideVideo: response.data\n          })\n \n          this.getVideoDetails(\"1af0jruup5gu\")\n\n         })\n         .catch(error =>\n          console.log('error'))\n }\n\n\ngetVideoDetails(idOfVideo) {\n  console.log('this 3 happens ');\n  const url= `https://project-2-api.herokuapp.com/videos/${idOfVideo}?api_key=luyao`\n  Axios.get(url)\n      .then(res => {\n       \n        // update state of parent component,remember to put curly braces:\n        this.setState({\n          mainVideo: res.data,\n      })\n      })\n      .catch(error =>\n        console.log('error'))\n      \n}\n\n\n componentDidMount() {\n  console.log('this 1 happens first');\n  this.getVideos();\n  \n  }\n\n\n  componentDidUpdate() {\n    console.log('component is updating')\n    if (this.state.mainVideo.id !== this.props.match.params.id ) {\n        Axios.get(`https://project-2-api.herokuapp.com/videos/${this.props.match.params.id}?api_key=luyao`)\n          .then(res => {\n        \n            console.log(this.props.match.params)\n            console.log('this 4 happens ');\n            // update state of parent component,remember to put curly braces:\n            this.setState({\n              mainVideo: res.data,\n          })\n          })\n          .catch(error =>\n            console.log('error'))\n  }\n}\n\n\n\n \n  render() {\n    // when render for the first time,  this returns an empty obj(with an empty comments array); empty sideVideo array\n    // console.log(this.state.mainVideo);\n    // console.log(this.state.sideVideo);\n    return (\n      <>\n        <Header />\n\n        <MainVideo mainVideo={this.state.mainVideo} />\n\n        {/* below main-container div was added afterwards to use flex for desktop site */}\n        <div className=\"main-container\">\n          \n          <div className=\"mainVideo-wrapper\">\n            <MainVideoDes mainVideoDes={this.state.mainVideo} whenSubmitted={this.handleSubmit}/>\n          </div>\n           \n          <div className=\"sideVideoList\">\n            <h4 className=\"sideVideoList__title\">Next Video</h4>\n            {this.state.sideVideo.filter(item => item.id != this.state.mainVideo.id).map(item => (<Side key={item.id} data={item} />))}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\n\n\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}